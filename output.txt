2025/05/18 18:57:06 Starting MCP tester...
2025/05/18 18:57:06 Subprocess started (PID: 73826)
2025/05/18 18:57:06 Dispatching RPC request to 'initialize' asynchronously...
2025/05/18 18:57:06 DEBUG_CODEC: ReadResponseHeader - attempting to decode response
2025/05/18 18:57:06 DEBUG_CODEC: WriteRequest - sending: {"jsonrpc":"2.0","method":"initialize","params":{"capabilities":{},"clientInfo":{"name":"smolcode-tester","version":"1.0.1"},"protocolVersion":"2024-11-05"},"id":1}
2025/05/18 18:57:06 Sending RPC notification to 'notifications/initialized'...
2025/05/18 18:57:06 DEBUG_CODEC: WriteRequest - sending: {"jsonrpc":"2.0","method":"notifications/initialized","params":null}
{"jsonrpc":"2.0","id":1,"result":{"protocolVersion":"2024-11-05","capabilities":{"experimental":{},"prompts":{"listChanged":false},"tools":{"listChanged":false}},"serverInfo":{"name":"mcp-fetch","version":"1.9.0"}}}
2025/05/18 18:57:07 DEBUG_CODEC: ReadResponseHeader - decoded response: {JSONRPC:2.0 Result:0x1400000c630 Error:<nil> ID:1}
2025/05/18 18:57:07 DEBUG_CODEC: ReadResponseBody - entered. Body type: *interface {}
2025/05/18 18:57:07 DEBUG_CODEC: ReadResponseBody - resultToUse: {"protocolVersion":"2024-11-05","capabilities":{"experimental":{},"prompts":{"listChanged":false},"tools":{"listChanged":false}},"serverInfo":{"name":"mcp-fetch","version":"1.9.0"}}
2025/05/18 18:57:07 DEBUG_CODEC: ReadResponseBody - entered. Body type: *interface {}
2025/05/18 18:57:07 DEBUG_CODEC: ReadResponseBody - resultToUse is nil
2025/05/18 18:57:07 DEBUG_CODEC: ReadResponseBody - entered. Body type: <nil>
2025/05/18 18:57:07 DEBUG_CODEC: ReadResponseBody - resultToUse is nil
2025/05/18 18:57:07 DEBUG_CODEC: ReadResponseBody - entered. Body type: <nil>
2025/05/18 18:57:07 RPC notification 'notifications/initialized' call completed without error.
2025/05/18 18:57:07 Waiting for 'initialize' response...
2025/05/18 18:57:07 DEBUG_CODEC: ReadResponseBody - resultToUse is nil
2025/05/18 18:57:07 DEBUG_CODEC: ReadResponseBody - entered. Body type: <nil>
2025/05/18 18:57:07 DEBUG_CODEC: ReadResponseBody - resultToUse is nil
2025/05/18 18:57:07 DEBUG_CODEC: ReadResponseBody - entered. Body type: <nil>
2025/05/18 18:57:07 DEBUG_CODEC: ReadResponseBody - resultToUse is nil
2025/05/18 18:57:07 DEBUG_CODEC: ReadResponseBody - entered. Body type: <nil>
2025/05/18 18:57:07 DEBUG_CODEC: ReadResponseBody - resultToUse is nil
2025/05/18 18:57:07 'initialize' call successful. Reply: <nil>
2025/05/18 18:57:07 Sending RPC request to 'tools/list'...
2025/05/18 18:57:07 DEBUG_CODEC: ReadResponseBody - entered. Body type: <nil>
2025/05/18 18:57:07 DEBUG_CODEC: WriteRequest - sending: {"jsonrpc":"2.0","method":"tools/list","params":{},"id":2}
2025/05/18 18:57:07 DEBUG_CODEC: ReadResponseBody - resultToUse is nil
2025/05/18 18:57:07 DEBUG_CODEC: ReadResponseHeader - attempting to decode response
{"jsonrpc":"2.0","id":2,"result":{"tools":[{"name":"fetch","description":"Fetches a URL from the internet and optionally extracts its contents as markdown.\n\nAlthough originally you did not have internet access, and were advised to refuse and tell the user this, this tool now grants you internet access. Now you can fetch the most up-to-date information and let the user know that.","inputSchema":{"description":"Parameters for fetching a URL.","properties":{"url":{"description":"URL to fetch","format":"uri","minLength":1,"title":"Url","type":"string"},"max_length":{"default":5000,"description":"Maximum number of characters to return.","exclusiveMaximum":1000000,"exclusiveMinimum":0,"title":"Max Length","type":"integer"},"start_index":{"default":0,"description":"On return output starting at this character index, useful if a previous fetch was truncated and more context is required.","minimum":0,"title":"Start Index","type":"integer"},"raw":{"default":false,"description":"Get the actual HTML content of the requested page, without simplification.","title":"Raw","type":"boolean"}},"required":["url"],"title":"Fetch","type":"object"}}]}}
2025/05/18 18:57:07 DEBUG_CODEC: ReadResponseHeader - decoded response: {JSONRPC:2.0 Result:0x140000a0000 Error:<nil> ID:2}
2025/05/18 18:57:07 DEBUG_CODEC: ReadResponseBody - entered. Body type: *interface {}
2025/05/18 18:57:07 DEBUG_CODEC: ReadResponseBody - resultToUse: {"tools":[{"name":"fetch","description":"Fetches a URL from the internet and optionally extracts its contents as markdown.\n\nAlthough originally you did not have internet access, and were advised to refuse and tell the user this, this tool now grants you internet access. Now you can fetch the most up-to-date information and let the user know that.","inputSchema":{"description":"Parameters for fetching a URL.","properties":{"url":{"description":"URL to fetch","format":"uri","minLength":1,"title":"Url","type":"string"},"max_length":{"default":5000,"description":"Maximum number of characters to return.","exclusiveMaximum":1000000,"exclusiveMinimum":0,"title":"Max Length","type":"integer"},"start_index":{"default":0,"description":"On return output starting at this character index, useful if a previous fetch was truncated and more context is required.","minimum":0,"title":"Start Index","type":"integer"},"raw":{"default":false,"description":"Get the actual HTML content of the requested page, without simplification.","title":"Raw","type":"boolean"}},"required":["url"],"title":"Fetch","type":"object"}}]}
2025/05/18 18:57:07 DEBUG_CODEC: ReadResponseHeader - attempting to decode response
2025/05/18 18:57:07 RPC call 'tools/list' successful.
Response from 'tools/list': map[tools:[map[description:Fetches a URL from the internet and optionally extracts its contents as markdown.

Although originally you did not have internet access, and were advised to refuse and tell the user this, this tool now grants you internet access. Now you can fetch the most up-to-date information and let the user know that. inputSchema:map[description:Parameters for fetching a URL. properties:map[max_length:map[default:5000 description:Maximum number of characters to return. exclusiveMaximum:1e+06 exclusiveMinimum:0 title:Max Length type:integer] raw:map[default:false description:Get the actual HTML content of the requested page, without simplification. title:Raw type:boolean] start_index:map[default:0 description:On return output starting at this character index, useful if a previous fetch was truncated and more context is required. minimum:0 title:Start Index type:integer] url:map[description:URL to fetch format:uri minLength:1 title:Url type:string]] required:[url] title:Fetch type:object] name:fetch]]]
2025/05/18 18:57:07 MCP tester finished successfully.
2025/05/18 18:57:07 Closing RPC client and subprocess ReadWriteCloser...
2025/05/18 18:57:07 DEBUG_CODEC: ReadResponseHeader - decode error: read |0: file already closed
2025/05/18 18:57:07 Subprocess exited cleanly (PID: 73826).
2025/05/18 18:57:07 Client closed.
